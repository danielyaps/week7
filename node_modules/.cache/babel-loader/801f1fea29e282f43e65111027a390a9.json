{"remainingRequest":"/Users/danielyap/week7/node_modules/babel-loader/lib/index.js!/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/danielyap/week7/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danielyap/week7/src/components/Basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danielyap/week7/src/components/Basket.vue","mtime":1615132870090},{"path":"/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBkYXRhYmFzZSBmcm9tICcuLi9maXJlYmFzZS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaXRlbXNTZWxlY3RlZDogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG90YWw6IDAsCiAgICAgIGNhbGN1bGF0ZTogZmFsc2UsCiAgICAgIGZ1bGxCYXNrZXQ6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZmluZFRvdGFsOiBmdW5jdGlvbiBmaW5kVG90YWwoKSB7CiAgICAgIHRoaXMudG90YWwgPSAwOwogICAgICB0aGlzLmNhbGN1bGF0ZSA9IHRydWU7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXNTZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjdXJyX2l0ZW0gPSB0aGlzLml0ZW1zU2VsZWN0ZWRbaV07CiAgICAgICAgdGhpcy50b3RhbCArPSBjdXJyX2l0ZW1bMV0gKiBjdXJyX2l0ZW1bMl07CiAgICAgIH0KICAgIH0sCiAgICBzZW5kT3JkZXI6IGZ1bmN0aW9uIHNlbmRPcmRlcigpIHsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoOyBrKyspIHsKICAgICAgICB0aGlzLmZ1bGxCYXNrZXQucHVzaCh0aGlzLml0ZW1zU2VsZWN0ZWRba10pOwogICAgICB9CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmZ1bGxCYXNrZXQubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2ldLm5hbWUgPT0gdGhpcy5mdWxsQmFza2V0W2pdWzBdKSB7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWZvdW5kICYmIGogPT0gdGhpcy5mdWxsQmFza2V0Lmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgdGhpcy5mdWxsQmFza2V0LnB1c2goW3RoaXMuaXRlbXNbaV0ubmFtZSwgMCwgdGhpcy5pdGVtc1tpXS5wcmljZV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbignb3JkZXJzJykuYWRkKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZnVsbEJhc2tldCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLy8gYSBjb21wdXRlZCBnZXR0ZXIKICAgIGdyYW5kVG90YWw6IGZ1bmN0aW9uIGdyYW5kVG90YWwoKSB7CiAgICAgIHZhciBncmFuZFRvdGFsID0gdGhpcy50b3RhbCAqIDEuMDc7CiAgICAgIHJldHVybiBncmFuZFRvdGFsLnRvRml4ZWQoMik7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7fQp9Ow=="},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAgBA,OAAA,QAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,aAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AAJA,GADA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAKA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,KAAA,GAAA,CAAA;AACA,WAAA,SAAA,GAAA,IAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,SAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,aAAA,KAAA,IAAA,SAAA,CAAA,CAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA;AACA;AACA,KARA;AASA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,UAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,KAAA,KAAA,CAAA,CAAA,EAAA,IAAA,IAAA,KAAA,UAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA;AACA,YAAA,KAAA,GAAA,IAAA;AACA;;AACA,cAAA,CAAA,KAAA,IAAA,CAAA,IAAA,KAAA,UAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,iBAAA,UAAA,CAAA,IAAA,CAAA,CAAA,KAAA,KAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA;AACA;AACA;AACA;;AACA,MAAA,QAAA,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,UAAA,CAAA,EAAA,IAAA,CAAA;AAAA,eAAA,QAAA,CAAA,MAAA,EAAA;AAAA,OAAA;AACA;AAzBA,GAhBA;AA2CA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,GAAA,IAAA;AACA,aAAA,UAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AACA;AALA,GA3CA;AAkDA,EAAA,UAAA,EAAA;AAlDA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <ul>\r\n        <p> Menu: </p>\r\n        <li v-for=\"each in itemsSelected\" v-bind:key=\"each[0]\">\r\n            <p>{{each[0]}} x {{each[1]}}</p>\r\n        </li>\r\n    </ul>\r\n    <button v-on:click=\"findTotal() + sendOrder()\">Calculate Total</button>\r\n    <p v-if=\"calculate\">Subtotal : ${{total}} <br>\r\n      Grandtotal : ${{grandTotal}}\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport database from '../firebase.js'\r\n\r\nexport default {\r\n  props:{\r\n      itemsSelected:{\r\n        type:Array\r\n      },\r\n      items:{\r\n        type:Array\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      calculate: false,\r\n      fullBasket: []\r\n    }\r\n  },\r\n  methods: {\r\n    findTotal:function() {\r\n      this.total = 0;\r\n      this.calculate = true;\r\n      for (let i = 0; i < this.itemsSelected.length; i++) {\r\n        const curr_item = this.itemsSelected[i];\r\n        this.total += (curr_item[1] * curr_item[2]);\r\n      }\r\n    },\r\n    sendOrder: function() {\r\n      for (let k = 0; k < this.itemsSelected.length; k++){\r\n        this.fullBasket.push(this.itemsSelected[k]);\r\n      }\r\n      for (let i = 0; i < this.items.length; i++) {\r\n        var found = false;\r\n        for (let j = 0; j < this.fullBasket.length; j++) {\r\n          if (this.items[i].name == this.fullBasket[j][0]){\r\n            found = true;\r\n          }\r\n          if (!found && j == this.fullBasket.length-1){\r\n            this.fullBasket.push([this.items[i].name, 0, this.items[i].price]);\r\n          }\r\n        }\r\n      }      \r\n      database.collection('orders').add(Object.assign({}, this.fullBasket)).then(() => location.reload());\r\n    }\r\n  },\r\n  computed: {\r\n    // a computed getter\r\n    grandTotal: function () {\r\n      var grandTotal = this.total * 1.07;\r\n      return grandTotal.toFixed(2);\r\n    }\r\n  },\r\n  components:{\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbutton{\r\n    font-family: Arial;  \r\n    border: 1px solid;\r\n    width:200px;\r\n    border-radius: 8px;\r\n    font-size: 32px;\r\n    text-align: center;\r\n    background-color: #ffd1c1;\r\n    color: black;\r\n}\r\ndiv {\r\n  position: absolute;\r\n  top: 40%;\r\n  left: 78%;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}