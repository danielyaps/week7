{"remainingRequest":"/Users/danielyap/week7/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danielyap/week7/src/components/Basket.vue?vue&type=style&index=0&id=17500cf6&scoped=true&lang=css&","dependencies":[{"path":"/Users/danielyap/week7/src/components/Basket.vue","mtime":1615132870090},{"path":"/Users/danielyap/week7/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KYnV0dG9uew0KICAgIGZvbnQtZmFtaWx5OiBBcmlhbDsgIA0KICAgIGJvcmRlcjogMXB4IHNvbGlkOw0KICAgIHdpZHRoOjIwMHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICBmb250LXNpemU6IDMycHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmQxYzE7DQogICAgY29sb3I6IGJsYWNrOw0KfQ0KZGl2IHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDQwJTsNCiAgbGVmdDogNzglOw0KfQ0K"},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Basket.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <ul>\r\n        <p> Menu: </p>\r\n        <li v-for=\"each in itemsSelected\" v-bind:key=\"each[0]\">\r\n            <p>{{each[0]}} x {{each[1]}}</p>\r\n        </li>\r\n    </ul>\r\n    <button v-on:click=\"findTotal() + sendOrder()\">Calculate Total</button>\r\n    <p v-if=\"calculate\">Subtotal : ${{total}} <br>\r\n      Grandtotal : ${{grandTotal}}\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport database from '../firebase.js'\r\n\r\nexport default {\r\n  props:{\r\n      itemsSelected:{\r\n        type:Array\r\n      },\r\n      items:{\r\n        type:Array\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      calculate: false,\r\n      fullBasket: []\r\n    }\r\n  },\r\n  methods: {\r\n    findTotal:function() {\r\n      this.total = 0;\r\n      this.calculate = true;\r\n      for (let i = 0; i < this.itemsSelected.length; i++) {\r\n        const curr_item = this.itemsSelected[i];\r\n        this.total += (curr_item[1] * curr_item[2]);\r\n      }\r\n    },\r\n    sendOrder: function() {\r\n      for (let k = 0; k < this.itemsSelected.length; k++){\r\n        this.fullBasket.push(this.itemsSelected[k]);\r\n      }\r\n      for (let i = 0; i < this.items.length; i++) {\r\n        var found = false;\r\n        for (let j = 0; j < this.fullBasket.length; j++) {\r\n          if (this.items[i].name == this.fullBasket[j][0]){\r\n            found = true;\r\n          }\r\n          if (!found && j == this.fullBasket.length-1){\r\n            this.fullBasket.push([this.items[i].name, 0, this.items[i].price]);\r\n          }\r\n        }\r\n      }      \r\n      database.collection('orders').add(Object.assign({}, this.fullBasket)).then(() => location.reload());\r\n    }\r\n  },\r\n  computed: {\r\n    // a computed getter\r\n    grandTotal: function () {\r\n      var grandTotal = this.total * 1.07;\r\n      return grandTotal.toFixed(2);\r\n    }\r\n  },\r\n  components:{\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbutton{\r\n    font-family: Arial;  \r\n    border: 1px solid;\r\n    width:200px;\r\n    border-radius: 8px;\r\n    font-size: 32px;\r\n    text-align: center;\r\n    background-color: #ffd1c1;\r\n    color: black;\r\n}\r\ndiv {\r\n  position: absolute;\r\n  top: 40%;\r\n  left: 78%;\r\n}\r\n</style>"]}]}