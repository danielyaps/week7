{"remainingRequest":"/Users/danielyap/week7/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danielyap/week7/src/components/Modify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danielyap/week7/src/components/Modify.vue","mtime":1615171453670},{"path":"/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXRhYmFzZSBmcm9tICIuLi9maXJlYmFzZS5qcyIKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOnsKICAgICAgaXRlbXM6ewogICAgICAgIHR5cGU6QXJyYXkKICAgICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAgIGRvY0lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMub3JkZXJJZCwKICAgICAgICBkYXRhcGFja2V0OltdLAogICAgICAgIGNvcGllZERhdGE6IFtdLAogICAgICAgIHVwZGF0ZU51bWJlcnM6IFtdLAogICAgfQogIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZmV0Y2hJdGVtczpmdW5jdGlvbigpewogICAgICAgICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdvcmRlcnMnKS5kb2ModGhpcy5kb2NJZCkuZ2V0KCkudGhlbigoZG9jKT0+ewogICAgICAgICAgICAgICAgdGhpcy5kYXRhcGFja2V0LnB1c2goZG9jLmRhdGEoKSkKICAgICAgICAgICAgfSk7CgogICAgICAgIH0sCiAgICAgICAgdXBkYXRlT3JkZXI6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5jb3BpZWREYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kYXRhcGFja2V0WzBdKTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBPYmplY3Qua2V5cyh0aGlzLmNvcGllZERhdGEpLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZih0aGlzLnVwZGF0ZU51bWJlcnNbaV0gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5jb3BpZWREYXRhW2ldWzFdID0gdGhpcy51cGRhdGVOdW1iZXJzW2ldOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oJ29yZGVycycpLmRvYyh0aGlzLmRvY0lkKS5zZXQodGhpcy5jb3BpZWREYXRhKS50aGVuKHRoaXMuJHJvdXRlci5wdXNoKCIvb3JkZXJzIikpOwogICAgICAgIH0KICAgIH0sCgogICAgY3JlYXRlZCgpewogICAgICB0aGlzLmZldGNoSXRlbXMoKTsKICB9LAp9Cg=="},{"version":3,"sources":["Modify.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Modify.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n            <div v-for=\"(food,index) in this.datapacket[0]\" v-bind:key=\"index\">\n                {{food[0]}}: {{food[1]}}<br>\n                <input v-model.number=\"updateNumbers[index]\" type=\"number\" id=index placeholder=0 min=\"0\"> <br>\n            </div>\n            <br>\n            <button v-on:click=\"updateOrder\">Update Order</button>\n    </div>\n</template>\n\n<script>\nimport database from \"../firebase.js\"\nexport default {\n  props:{\n      items:{\n        type:Array\n      },\n  },\n  data() {\n    return {\n        docId: this.$route.params.orderId,\n        datapacket:[],\n        copiedData: [],\n        updateNumbers: [],\n    }\n  },\n    methods: {\n        fetchItems:function(){\n            database.collection('orders').doc(this.docId).get().then((doc)=>{\n                this.datapacket.push(doc.data())\n            });\n\n        },\n        updateOrder:function(){\n            this.copiedData = Object.assign({}, this.datapacket[0]);\n            for (let i = 0; i < Object.keys(this.copiedData).length; i++) {\n                if(this.updateNumbers[i] == null) {\n                    continue;\n                }\n                this.copiedData[i][1] = this.updateNumbers[i];\n            }\n            database.collection('orders').doc(this.docId).set(this.copiedData).then(this.$router.push(\"/orders\"));\n        }\n    },\n\n    created(){\n      this.fetchItems();\n  },\n}\n</script>\n\n<style scoped>\nbutton{\n    font-family: Arial;  \n    border: 1px solid;\n    width:150px;\n    border-radius: 8px;\n    font-size: 24px;\n    text-align: center;\n    background-color: #ffd1c1;\n    color: black;\n}\n</style>"]}]}