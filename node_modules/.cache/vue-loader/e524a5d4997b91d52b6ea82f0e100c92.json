{"remainingRequest":"/Users/danielyap/week7/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/danielyap/week7/src/components/Basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/danielyap/week7/src/components/Basket.vue","mtime":1615132870090},{"path":"/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/danielyap/week7/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/danielyap/week7/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZGF0YWJhc2UgZnJvbSAnLi4vZmlyZWJhc2UuanMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6ew0KICAgICAgaXRlbXNTZWxlY3RlZDp7DQogICAgICAgIHR5cGU6QXJyYXkNCiAgICAgIH0sDQogICAgICBpdGVtczp7DQogICAgICAgIHR5cGU6QXJyYXkNCiAgICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdG90YWw6IDAsDQogICAgICBjYWxjdWxhdGU6IGZhbHNlLA0KICAgICAgZnVsbEJhc2tldDogW10NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBmaW5kVG90YWw6ZnVuY3Rpb24oKSB7DQogICAgICB0aGlzLnRvdGFsID0gMDsNCiAgICAgIHRoaXMuY2FsY3VsYXRlID0gdHJ1ZTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtc1NlbGVjdGVkLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGNvbnN0IGN1cnJfaXRlbSA9IHRoaXMuaXRlbXNTZWxlY3RlZFtpXTsNCiAgICAgICAgdGhpcy50b3RhbCArPSAoY3Vycl9pdGVtWzFdICogY3Vycl9pdGVtWzJdKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbmRPcmRlcjogZnVuY3Rpb24oKSB7DQogICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuaXRlbXNTZWxlY3RlZC5sZW5ndGg7IGsrKyl7DQogICAgICAgIHRoaXMuZnVsbEJhc2tldC5wdXNoKHRoaXMuaXRlbXNTZWxlY3RlZFtrXSk7DQogICAgICB9DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5mdWxsQmFza2V0Lmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgaWYgKHRoaXMuaXRlbXNbaV0ubmFtZSA9PSB0aGlzLmZ1bGxCYXNrZXRbal1bMF0pew0KICAgICAgICAgICAgZm91bmQgPSB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAoIWZvdW5kICYmIGogPT0gdGhpcy5mdWxsQmFza2V0Lmxlbmd0aC0xKXsNCiAgICAgICAgICAgIHRoaXMuZnVsbEJhc2tldC5wdXNoKFt0aGlzLml0ZW1zW2ldLm5hbWUsIDAsIHRoaXMuaXRlbXNbaV0ucHJpY2VdKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gICAgICANCiAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oJ29yZGVycycpLmFkZChPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZ1bGxCYXNrZXQpKS50aGVuKCgpID0+IGxvY2F0aW9uLnJlbG9hZCgpKTsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy8gYSBjb21wdXRlZCBnZXR0ZXINCiAgICBncmFuZFRvdGFsOiBmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgZ3JhbmRUb3RhbCA9IHRoaXMudG90YWwgKiAxLjA3Ow0KICAgICAgcmV0dXJuIGdyYW5kVG90YWwudG9GaXhlZCgyKTsNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6ew0KICB9DQp9DQo="},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Basket.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <ul>\r\n        <p> Menu: </p>\r\n        <li v-for=\"each in itemsSelected\" v-bind:key=\"each[0]\">\r\n            <p>{{each[0]}} x {{each[1]}}</p>\r\n        </li>\r\n    </ul>\r\n    <button v-on:click=\"findTotal() + sendOrder()\">Calculate Total</button>\r\n    <p v-if=\"calculate\">Subtotal : ${{total}} <br>\r\n      Grandtotal : ${{grandTotal}}\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport database from '../firebase.js'\r\n\r\nexport default {\r\n  props:{\r\n      itemsSelected:{\r\n        type:Array\r\n      },\r\n      items:{\r\n        type:Array\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      calculate: false,\r\n      fullBasket: []\r\n    }\r\n  },\r\n  methods: {\r\n    findTotal:function() {\r\n      this.total = 0;\r\n      this.calculate = true;\r\n      for (let i = 0; i < this.itemsSelected.length; i++) {\r\n        const curr_item = this.itemsSelected[i];\r\n        this.total += (curr_item[1] * curr_item[2]);\r\n      }\r\n    },\r\n    sendOrder: function() {\r\n      for (let k = 0; k < this.itemsSelected.length; k++){\r\n        this.fullBasket.push(this.itemsSelected[k]);\r\n      }\r\n      for (let i = 0; i < this.items.length; i++) {\r\n        var found = false;\r\n        for (let j = 0; j < this.fullBasket.length; j++) {\r\n          if (this.items[i].name == this.fullBasket[j][0]){\r\n            found = true;\r\n          }\r\n          if (!found && j == this.fullBasket.length-1){\r\n            this.fullBasket.push([this.items[i].name, 0, this.items[i].price]);\r\n          }\r\n        }\r\n      }      \r\n      database.collection('orders').add(Object.assign({}, this.fullBasket)).then(() => location.reload());\r\n    }\r\n  },\r\n  computed: {\r\n    // a computed getter\r\n    grandTotal: function () {\r\n      var grandTotal = this.total * 1.07;\r\n      return grandTotal.toFixed(2);\r\n    }\r\n  },\r\n  components:{\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbutton{\r\n    font-family: Arial;  \r\n    border: 1px solid;\r\n    width:200px;\r\n    border-radius: 8px;\r\n    font-size: 32px;\r\n    text-align: center;\r\n    background-color: #ffd1c1;\r\n    color: black;\r\n}\r\ndiv {\r\n  position: absolute;\r\n  top: 40%;\r\n  left: 78%;\r\n}\r\n</style>"]}]}